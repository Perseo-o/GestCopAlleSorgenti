<div class="body" *ngIf="user">
    <div class="button">
        <button mat-flat-button class="create-pdf" (click)="convert()"><b>Esporta in pdf</b></button> 
        <div *ngIf="user.active">
            <button mat-flat-button class="disable" (click)="disable()"><b>Disabilita user</b></button> 
        </div>
        <div *ngIf="!user.active">
            <button mat-flat-button class="enable" (click)="enable()"><b>Riattiva user</b></button> 
        </div>
        
        <button mat-flat-button class="update" (click)="userUpdate()"><b>Aggiorna Dati Utente</b></button>
    </div>
    <div class="scheda" id="scheda">
        <div style="display: flex;">
            <div class="logo"></div>
            <div>
                <div class="title"><b>ALLE SORGENTI - PROGETTO A</b></div>
                <div class="sub-title"><b>SCHEDA OSPITE</b></div>
            </div>
        </div>
        <div class="contenuto">

            <p>ID OSPITE: <b>{{user.idGhost}}</b></p>

            <div *ngIf="user.idHeadFamily"><p>ID CODICE CAPO FAMIGLIA: <b>{{user.idHeadFamily}}</b></p></div>

            <p>ID VESTANET: <b>{{user.idVestanet}}</b></p>

            <p>CODICE CUI: <b>{{user.idCui}}</b></p>

            <p>COGNOME: <b>{{user.surname}}</b></p>

            <p>NOME: <b>{{user.name}}</b></p>

            <p>DATA DI NASCITA: <b>{{formattedBirthDate}}</b></p>

            <p>SESSO: <b><ng-container *ngIf="user.sex=='MALE'; else female">
                MASCHIO
              </ng-container>
              <ng-template #female>
                FEMMINA
              </ng-template></b>
            </p>

            <p>STATO DI NASCITA: <b>{{user.nationState}}</b></p>

            <p>CODICE FISCALE: <b>{{user.codFiscal}}</b></p>
            
            <p>RESIDENZA: <b><ng-container *ngIf="user.site=='COP_SORG_IGL'; else viaMonte">
                VIA IGLESIAS 82 - VILLACIDRO(VS)
              </ng-container>
              <ng-template #viaMonte>
                VIA DEL MONTE 36 - VILLACIDRO(VS)
              </ng-template></b>
            </p>

            <p>DATA DI INGRESSO IN ITALIA: <b>{{formattedDateIngIta}}</b></p>

            <p>DATA DI ARRIVO IN STRUTTURA: <b>{{formattedDateIngStrut}}</b></p>

            <p>DATA FORMALIZAZZIONE C3: <b>{{formattedFormC3}}</b></p>

            <p>DATA SCADENZA PERMESSO DI SOGGIORNO: <b>{{formattedExpiryPermit}}</b></p>

            <p>LINGUE: <b>{{user.languages}}</b></p>

            <p>SCOLARIZAZZIONE: <b>{{user.schooling}}</b></p>

            <p >SITUAZIONE GIURIDICA: <b>{{ user.legalSituation }}</b></p>
            
            <div *ngIf="user.lawyerDTOList.length>0" style="margin-bottom: 5mm;">
                <ng-container *ngFor="let lawyer of user.lawyerDTOList">
                        
                    <p>AVVOCATO: <b>{{ lawyer.name }}</b></p>
                    <div class="description"><b>{{ lawyer.contDetails }}</b></div>
                </ng-container>
            </div>
            
            <div *ngIf="user.doctorDTOList.length" style="margin-bottom: 5mm;">
                <ng-container *ngFor="let structure of user.doctorDTOList">
                        
                    <p>NAME. : <b>{{ structure.name}}</b></p>
                    <div class="description"> <b>{{ structure.contDetails}}</b></div>
                </ng-container>
            </div> 
            
            <p>NOTE: <b><ng-container *ngIf="user.note; else estetic">
                {{user.note}}
              </ng-container>
              <ng-template #estetic>
                -
              </ng-template></b>
            </p>

        </div>
        
    </div>
</div>
<!--<mat-icon>cloud_download</mat-icon> TOODO-->